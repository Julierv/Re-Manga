{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./ImageViewer.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ImageViewer=_ref=>{let{match}=_ref;const{name,volume}=match.params;const[images,setImages]=useState([]);const[currentImageIndex,setCurrentImageIndex]=useState(0);useEffect(()=>{axios.get(\"https://34.173.150.41:3003/api/manga/\".concat(name,\"/\").concat(volume)).then(response=>{setImages(response.data);}).catch(error=>{console.error(\"Error fetching images for \".concat(name,\" - Volume \").concat(volume,\":\"),error);});},[name,volume]);const handleNextClick=()=>{setCurrentImageIndex(prevIndex=>Math.min(prevIndex+1,images.length-1));};const handlePrevClick=()=>{setCurrentImageIndex(prevIndex=>Math.max(prevIndex-1,0));};const handleDropdownChange=event=>{// Update the current image index based on the selected value from the dropdown\nconst selectedIndex=parseInt(event.target.value,10)-1;setCurrentImageIndex(selectedIndex);};return/*#__PURE__*/_jsxs(\"div\",{className:\"image-viewer-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevClick,disabled:currentImageIndex===0,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextClick,disabled:currentImageIndex===images.length-1,children:\"Next\"}),/*#__PURE__*/_jsx(\"label\",{style:{top:'95%'},children:/*#__PURE__*/_jsx(\"select\",{value:currentImageIndex+1,onChange:handleDropdownChange,children:images.map((_,index)=>/*#__PURE__*/_jsx(\"option\",{value:index+1,children:index+1},index))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://dh4zx4a36rxfp.cloudfront.net/Manga/\".concat(name,\"/\").concat(volume,\"/\").concat(images[currentImageIndex]),alt:\"Image \".concat(currentImageIndex+1)})})]});};export default ImageViewer;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ImageViewer","_ref","match","name","volume","params","images","setImages","currentImageIndex","setCurrentImageIndex","get","concat","then","response","data","catch","error","console","handleNextClick","prevIndex","Math","min","length","handlePrevClick","max","handleDropdownChange","event","selectedIndex","parseInt","target","value","className","children","onClick","disabled","style","top","onChange","map","_","index","src","alt"],"sources":["/Users/josepearldrought/repos/projects/Sneaky-Manga/manga-app/src/components/ImageViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './ImageViewer.css'\n\nconst ImageViewer = ({ match }) => {\n  const { name, volume } = match.params;\n  const [images, setImages] = useState([]);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  useEffect(() => {\n    axios.get(`https://34.173.150.41:3003/api/manga/${name}/${volume}`)\n      .then(response => {\n        setImages(response.data);\n      })\n      .catch(error => {\n        console.error(`Error fetching images for ${name} - Volume ${volume}:`, error);\n      });\n  }, [name, volume]);\n\n  const handleNextClick = () => {\n    setCurrentImageIndex(prevIndex => Math.min(prevIndex + 1, images.length - 1));\n  };\n\n  const handlePrevClick = () => {\n    setCurrentImageIndex(prevIndex => Math.max(prevIndex - 1, 0));\n  };\n\n  const handleDropdownChange = (event) => {\n    // Update the current image index based on the selected value from the dropdown\n    const selectedIndex = parseInt(event.target.value, 10) - 1;\n    setCurrentImageIndex(selectedIndex);\n  };\n\n  return (\n    <div className=\"image-viewer-container\">\n      <div className=\"navigation-buttons\">\n        <button onClick={handlePrevClick} disabled={currentImageIndex === 0}>Previous</button>\n        <button onClick={handleNextClick} disabled={currentImageIndex === images.length - 1}>Next</button>\n        <label style={{top:'95%'}}>\n          <select value={currentImageIndex + 1} onChange={handleDropdownChange}>\n            {images.map((_, index) => (\n              <option key={index} value={index + 1}>{index + 1}</option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div className=\"image-container\">\n        <img src={`https://dh4zx4a36rxfp.cloudfront.net/Manga/${name}/${volume}/${images[currentImageIndex]}`} alt={`Image ${currentImageIndex + 1}`} />\n      </div>\n    </div>\n  );\n};\n\nexport default ImageViewer;\n\n\n\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAC5B,KAAM,CAAEE,IAAI,CAAEC,MAAO,CAAC,CAAGF,KAAK,CAACG,MAAM,CACrC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACe,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACdC,KAAK,CAACe,GAAG,yCAAAC,MAAA,CAAyCR,IAAI,MAAAQ,MAAA,CAAIP,MAAM,CAAE,CAAC,CAChEQ,IAAI,CAACC,QAAQ,EAAI,CAChBN,SAAS,CAACM,QAAQ,CAACC,IAAI,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,8BAAAL,MAAA,CAA8BR,IAAI,eAAAQ,MAAA,CAAaP,MAAM,MAAKY,KAAK,CAAC,CAC/E,CAAC,CAAC,CACN,CAAC,CAAE,CAACb,IAAI,CAAEC,MAAM,CAAC,CAAC,CAElB,KAAM,CAAAc,eAAe,CAAGA,CAAA,GAAM,CAC5BT,oBAAoB,CAACU,SAAS,EAAIC,IAAI,CAACC,GAAG,CAACF,SAAS,CAAG,CAAC,CAAEb,MAAM,CAACgB,MAAM,CAAG,CAAC,CAAC,CAAC,CAC/E,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5Bd,oBAAoB,CAACU,SAAS,EAAIC,IAAI,CAACI,GAAG,CAACL,SAAS,CAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAM,oBAAoB,CAAIC,KAAK,EAAK,CACtC;AACA,KAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAE,EAAE,CAAC,CAAG,CAAC,CAC1DrB,oBAAoB,CAACkB,aAAa,CAAC,CACrC,CAAC,CAED,mBACE5B,KAAA,QAAKgC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCjC,KAAA,QAAKgC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCnC,IAAA,WAAQoC,OAAO,CAAEV,eAAgB,CAACW,QAAQ,CAAE1B,iBAAiB,GAAK,CAAE,CAAAwB,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACtFnC,IAAA,WAAQoC,OAAO,CAAEf,eAAgB,CAACgB,QAAQ,CAAE1B,iBAAiB,GAAKF,MAAM,CAACgB,MAAM,CAAG,CAAE,CAAAU,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClGnC,IAAA,UAAOsC,KAAK,CAAE,CAACC,GAAG,CAAC,KAAK,CAAE,CAAAJ,QAAA,cACxBnC,IAAA,WAAQiC,KAAK,CAAEtB,iBAAiB,CAAG,CAAE,CAAC6B,QAAQ,CAAEZ,oBAAqB,CAAAO,QAAA,CAClE1B,MAAM,CAACgC,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBACnB3C,IAAA,WAAoBiC,KAAK,CAAEU,KAAK,CAAG,CAAE,CAAAR,QAAA,CAAEQ,KAAK,CAAG,CAAC,EAAnCA,KAA4C,CAC1D,CAAC,CACI,CAAC,CACJ,CAAC,EACL,CAAC,cACN3C,IAAA,QAAKkC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BnC,IAAA,QAAK4C,GAAG,+CAAA9B,MAAA,CAAgDR,IAAI,MAAAQ,MAAA,CAAIP,MAAM,MAAAO,MAAA,CAAIL,MAAM,CAACE,iBAAiB,CAAC,CAAG,CAACkC,GAAG,UAAA/B,MAAA,CAAWH,iBAAiB,CAAG,CAAC,CAAG,CAAE,CAAC,CAC7I,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}